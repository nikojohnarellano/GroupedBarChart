<!DOCTYPE html>
<meta charset="utf-8">
<head>
    <TITLE>Grouped Bar and Line Chart</TITLE>
    <SCRIPT src = "http://d3js.org/d3.v3.min.js"></SCRIPT>
    <SCRIPT src = "js/jquery-2.2.1.min.js"></SCRIPT>
    <SCRIPT src = "js/jquery-ui-1.11.4.min.js"></SCRIPT>
    <SCRIPT src = "http://cdn.datatables.net/1.10.12/js/jquery.dataTables.min.js"></SCRIPT>
    <SCRIPT src = "js/underscore-min.js"></SCRIPT>
    <SCRIPT src = "js/moment.min.js"></SCRIPT>
    <SCRIPT src = "js/datetime.js"></SCRIPT>
    <SCRIPT src = "js/datetime-moment.js"></SCRIPT>
    <SCRIPT src = "js/app.js"></SCRIPT>
    <SCRIPT src = "js/GroupedBarChart.js"></SCRIPT>
    <link rel="stylesheet" type="text/css" href="css/barline.css">
    <link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="css/styles.css">
    <link href='http://cdn.datatables.net/1.10.12/css/jquery.dataTables.min.css' rel='stylesheet' type='text/css'>
</head>
<body>
    <div class="panel-body" >
        <div class="row">
            
                <div id="barLineChart1" class="barLineChart col-md-6">
                </div>
				<div id="barLineChart2" class="barLineChart col-md-6">
                </div>
        </div>
		<div class="row">
            
                <div id="barLineChart3" class="barLineChart col-md-6">
                </div>
				<div id="barLineChart4" class="barLineChart col-md-6">
                </div>
        </div>
    </div>
    <p class="clickUpdate"> Click to show dataset #1 <b>(breakdown by YM)</b></p>
    <p class="clickUpdate2"> Click to show dataset #2 <b>(breakdown by YMD)</b></p>
    <p class="clickUpdate3"> Click to show dataset #3 </p>
	<br>
	<div id="clickInfo"></div>

    <script>
    var applicationColors = [ "#F5A623", "#00ADF3", "#00975E", "#AE53C0", "#FF7152", "#D22F43", "#50E3C2", "#FFD92F", "#A0E254", "#550000", "#E55F95", "#AA3939", "#304E0E", "#4745FF", "#6900C4" ];
    var groupedBarParam1 = {
        width: $("#barLineChart1").width(),
        height: 500,
        elem: "#barLineChart1",
        chartTitle: "Bar Line Chart",
        xAxisLabel: "X Axis",
        yAxisLabel: "Y Axis",
        zAxisLabel: "Z Axis",
        tooltipTitle: "Tooltip"

    }
	var groupedBarParam2 = {
        width: $("#barLineChart2").width(),
        height: 500,
        elem: "#barLineChart2",
        chartTitle: "Bar Line Chart",
        xAxisLabel: "X Axis",
        yAxisLabel: "Y Axis",
        zAxisLabel: "Z Axis",
        tooltipTitle: "Tooltip"

    }
	var groupedBarParam3 = {
        width: $("#barLineChart3").width(),
        height: 500,
        elem: "#barLineChart3",
        chartTitle: "Bar Line Chart",
        xAxisLabel: "X Axis",
        yAxisLabel: "Y Axis",
        zAxisLabel: "Z Axis",
        tooltipTitle: "Tooltip"

    }
	var groupedBarParam4 = {
        width: $("#barLineChart4").width(),
        height: 500,
        elem: "#barLineChart4",
        chartTitle: "Bar Line Chart",
        xAxisLabel: "X Axis",
        yAxisLabel: "Y Axis",
        zAxisLabel: "Z Axis",
        tooltipTitle: "Tooltip"

    }
    var groupedBarChart1 = new GroupedBarChart(groupedBarParam1);
	var groupedBarChart2 = new GroupedBarChart(groupedBarParam2);
	var groupedBarChart3 = new GroupedBarChart(groupedBarParam3);
	var groupedBarChart4 = new GroupedBarChart(groupedBarParam4);
	
    d3.json("data/groupedbarstring.json", function(data) {
        var groupedBarData = groupedBarChart1.setGroupedBarChartData(data);
        var precision = 0;
        groupedBarChart1.initChart(groupedBarData, precision, applicationColors);
        groupedBarChart1.updateChart(groupedBarData);
    });
	d3.json("data/groupedbarstring.json", function(data) {
        var groupedBarData = groupedBarChart2.setGroupedBarChartData(data);
        var precision = 0;
        groupedBarChart2.initChart(groupedBarData, precision, applicationColors);
        groupedBarChart2.updateChart(groupedBarData);
    });
	d3.json("data/groupedbarstring.json", function(data) {
        var groupedBarData = groupedBarChart3.setGroupedBarChartData(data);
        var precision = 0;
        groupedBarChart3.initChart(groupedBarData, precision, applicationColors);
        groupedBarChart3.updateChart(groupedBarData);
    });
	d3.json("data/groupedbarstring.json", function(data) {
        var groupedBarData = groupedBarChart4.setGroupedBarChartData(data);
        var precision = 0;
        groupedBarChart4.initChart(groupedBarData, precision, applicationColors);
        groupedBarChart4.updateChart(groupedBarData);
    });
    // TODO This doesn't output anything to the console. Need to ask Jose about the YW breakdown type.
    d3.json("data/groupedbaryw.json", function(data) {

        var groupedBarData = groupedBarChart.setGroupedBarChartData(data);

        // Log groupedBarData to see if it's grouping the data in the right manner
        console.log(groupedBarData);

        /*
          THESE WONT WORK FOR NOW SINCE WE DONT HAVE THESE METHODS YET IN groupedBarChart.js

          var xDom = d3.extent(barLineData, function(d) { return d.xval });
          var yDom = d3.extent(barLineData, function(d) { return d.yval });
          var zDom = d3.extent(barLineData, function(d) { return d.zval });

          groupedBarChart.initChart(xDom, yDom, zDom, groupedBarData);

          var lineColor = "#09aff3";
          var barColor = "#ffe159";

          groupedBarChart.updateChart(groupedBarData, lineColor, barColor);
        */

    });

    </script>

</body>
